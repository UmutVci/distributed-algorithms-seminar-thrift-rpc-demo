# Distributed Message System with Apache Thrift (Java ↔ Python)

This project demonstrates a **distributed RPC (Remote Procedure Call) system** where a **Java server** and a **Python client** communicate using **Apache Thrift**.  
The Python client sends a message to the Java server via Thrift RPC, and the Java server responds back.

---

## Project Structure

```
thrift-demo/
 ├── message_service.thrift         # Thrift interface definition
 ├── gen-java/                      # Java code generated by Thrift
 ├── gen-py/                        # Python code generated by Thrift
 ├── java-server/
 │   ├── Dockerfile
 │   └── src/main/java/com/umutavci/Server.java
 ├── python-client/
 │   ├── Dockerfile
 │   └── client.py
 ├── libthrift.jar, slf4j*.jar, javax-annotation.jar
 └── docker-compose.yml
```

---

##  Requirements

- Docker & Docker Compose
- (Optional for manual testing) Java 17+, Python 3.11+, Apache Thrift 0.22.0

---

##  How It Works

1. **Java Server**
    - Runs a Thrift RPC server on port `9090`.
    - Implements the `MessageService` interface defined in the `.thrift` file.
    - Waits for messages from the Python client.

2. **Python Client**
    - Connects to the Java server via Thrift socket (`java-server:9090`).
    - Sends a message and receives the response.

---

## Thrift Definition (`message_service.thrift`)

```thrift
namespace java message
namespace py message

service MessageService {
  string sendMessage(1:string msg)
}
```

---

## Docker Setup

### Build & Run
From the project root:

```bash
docker-compose up --build
```

### Expected Output

#### Java Server
```
Java Thrift server started (port 9090)...
Message received from Python: Hi Java! Here is Python!
```

#### Python Client
```
Conntected to Java Server
Message from Java Java response: Hello, I got your message!
```

---

## Cleanup

```bash
docker-compose down
```
